<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Sunset Hero</title>
    <style>
        :root {
            /* --sun-y controls the entire scene.
               0.0 = Sunset (Dark/Red)
               1.0 = Noon (Bright/Yellow)
            */
            --sun-y: 0; 
            
            /* Color Calculations based on --sun-y */
            --sky-top-h: 40; 
            --sky-top-s: 80%;
            --sky-top-l: calc(95% - ((1 - var(--sun-y)) * 40%)); 
            
            --sky-bot-h: calc(40 - ((1 - var(--sun-y)) * 30)); /* Yellow -> Red */
            --sky-bot-s: calc(50% + ((1 - var(--sun-y)) * 40%)); 
            --sky-bot-l: calc(90% - ((1 - var(--sun-y)) * 50%));

            --sun-color: #fff;
            
            /* Mountain brightness */
            --mount-brightness: calc(30% + (var(--sun-y) * 70%));
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Helvetica Neue', sans-serif;
            background-color: #111; /* Dark background for the footer part */
        }

        /* --- FIXED BACKGROUND (The Hero) --- */
        .fixed-hero {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            /* Dynamic Sky Gradient */
            background: linear-gradient(
                to bottom, 
                hsl(var(--sky-top-h), var(--sky-top-s), var(--sky-top-l)) 0%, 
                hsl(var(--sky-bot-h), var(--sky-bot-s), var(--sky-bot-l)) 100%
            );
            overflow: hidden;
            z-index: 1; /* sits behind content */
            pointer-events: none; /* Let scroll pass through */
        }

        /* --- The Sun --- */
        .sun {
            position: absolute;
            width: 10vh; /* Responsive size */
            height: 10vh;
            background: var(--sun-color);
            border-radius: 50%;
            left: 50%;
            transform: translate(-50%, 50%);
            
            /* Movement Logic: 
               At 0 (sunset), it is at 90% top (near bottom).
               At 1 (noon), it is at 20% top (high up). 
            */
            top: calc(90% - (var(--sun-y) * 70%)); 
            
            box-shadow: 0 0 calc(20px + (var(--sun-y) * 50px)) rgba(255, 255, 255, 0.5);
            transition: top 0.1s linear, box-shadow 0.1s linear; 
            will-change: top;
        }

        /* --- Landscape Container (Bottom 25%) --- */
        .landscape {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 25vh; 
            z-index: 2;
        }

        .mountain {
            position: absolute;
            bottom: -20%; 
            border-radius: 50% 50% 0 0;
        }

        .mount-1 {
            width: 150%;
            height: 100%;
            left: -20%;
            background-color: hsl(20, 30%, calc(60% * var(--mount-brightness) / 100));
            z-index: 3;
        }

        .mount-2 {
            width: 120%;
            height: 80%;
            right: -20%;
            background-color: hsl(15, 25%, calc(40% * var(--mount-brightness) / 100));
            z-index: 4;
        }

        .mount-3 {
            width: 100%;
            height: 60%;
            left: -10%;
            background-color: hsl(350, 10%, calc(25% * var(--mount-brightness) / 100));
            z-index: 5;
        }

        /* --- SCROLL SPACER --- */
        /* This invisible div gives us space to scroll while the hero stays fixed */
        .scroll-spacer {
            height: 100vh;
            width: 100%;
            position: relative;
            z-index: 10;
        }
        
        /* Hero Text (Moves with scroll, so it rises out of view) */
        .hero-title {
            position: absolute;
            top: 40%;
            width: 100%;
            text-align: center;
            z-index: 20;
            color: #333;
            opacity: 0.8;
            mix-blend-mode: overlay;
        }
        
        .hero-title h1 {
            font-size: 4rem;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 10px;
        }

        /* --- THE DUMMY SECTION --- */
        .next-section {
            position: relative;
            z-index: 20; /* Sits on top of the fixed hero */
            background-color: #fff;
            padding: 100px 50px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 -50px 100px rgba(0,0,0,0.5); /* Shadow to separate from sky */
        }

        .next-section h2 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 20px;
        }

        .next-section p {
            max-width: 600px;
            line-height: 1.6;
            color: #666;
            margin-bottom: 20px;
        }

    </style>
</head>
<body>

    <div class="fixed-hero">
        <div class="sun"></div>
        <div class="landscape">
            <div class="mountain mount-1"></div>
            <div class="mountain mount-2"></div>
            <div class="mountain mount-3"></div>
        </div>
    </div>

    <div class="scroll-spacer">
        <div class="hero-title">
            <h1>Solstice</h1>
            <p>Scroll to set the sun</p>
        </div>
    </div>

    <section class="next-section">
        <h2>The Night Has Arrived</h2>
        <p>
            As you scrolled down, the CSS variables mapped your scroll position to the sun's vertical axis. 
            The mountains became silhouettes as the light faded, creating a seamless transition from the hero area to your content.
        </p>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>
    </section>

    <script>
        // State variables
        let sunPosition = 0; // 0 to 1 range
        let isIntroRunning = true;
        
        // 1. INTRO ANIMATION (Sun Rises on Load)
        function runIntro() {
            let start = null;
            const duration = 2000; // 2 seconds to rise

            function step(timestamp) {
                if (!start) start = timestamp;
                const progress = timestamp - start;
                
                // Calculate percentage (0 to 1)
                const percent = Math.min(progress / duration, 1);
                
                // Ease out cubic function for smooth rise
                const ease = 1 - Math.pow(1 - percent, 3);
                
                // Update sun if user hasn't scrolled yet
                if (window.scrollY === 0 && isIntroRunning) {
                    sunPosition = ease * 0.85; // Rise to 85% height
                    updateCSS();
                    
                    if (progress < duration) {
                        window.requestAnimationFrame(step);
                    } else {
                        isIntroRunning = false; // Intro finished
                    }
                }
            }
            window.requestAnimationFrame(step);
        }

        // 2. SCROLL ANIMATION (Sun Sets on Scroll)
        window.addEventListener('scroll', () => {
            // Stop the intro immediately if user interacts
            isIntroRunning = false;

            const scrollY = window.scrollY;
            const windowHeight = window.innerHeight;

            // Define the "active" scroll zone.
            // We want the sun to fully set by the time we scroll 1 full screen height.
            const scrollRatio = Math.min(scrollY / windowHeight, 1);

            // Logic: 
            // At scroll 0, we want sun at 0.85 (High)
            // At scroll 1 (100vh), we want sun at 0.0 (Horizon)
            sunPosition = 0.85 - (scrollRatio * 0.85);

            // Clamp value to never go below 0
            if (sunPosition < 0) sunPosition = 0;

            updateCSS();
        });

        // Helper to update the CSS variable
        function updateCSS() {
            document.documentElement.style.setProperty('--sun-y', sunPosition);
        }

        // Trigger Intro on Load
        runIntro();

    </script>
</body>
</html>